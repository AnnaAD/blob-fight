{"ast":null,"code":"import _slicedToArray from\"/Users/anna/Documents/blob-fight/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Creature from'./Creature';import EnemyCreature from'./EnemyCreature';import'./App.css';import React,{useState}from'react';import game_data from\"./game_data.json\";import{socket}from'./socket';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),game_data=_useState2[0],setGameData=_useState2[1];React.useEffect(function(){console.log('sending');fetch(\"/game?id=\".concat(props.game)).then(function(res){return res.json();}).then(function(game_data){return setGameData(game_data);});},[]);socket.on(\"gameUpdate\",function(msg){console.log(\"update to game...\");setGameData(msg);});var submitMove=function submitMove(move){console.log(\"make move\",move);socket.emit(\"makeMove\",props.game,move,props.socket.id);};console.log(props.socket.id);if(game_data){console.log(game_data.log);console.log(game_data.sockets);console.log(game_data.sockets.filter(function(k){return k!=props.socket.id;})[0]);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" blob fight\"}),game_data?/*#__PURE__*/_jsxs(_Fragment,{children:[game_data.log.map(function(l,i){return/*#__PURE__*/_jsx(\"p\",{children:l},i);}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Turn : \",game_data.turn]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(EnemyCreature,{game_data:game_data,data:game_data.creatures[game_data.sockets.filter(function(k){return k!=props.socket.id;})[0]]}),/*#__PURE__*/_jsx(Creature,{game_data:game_data,data:game_data.creatures[props.socket.id],makeMove:submitMove})]})]}):\"Loading...\"]});}export default App;","map":{"version":3,"names":["Creature","EnemyCreature","React","useState","game_data","socket","App","props","setGameData","useEffect","console","log","fetch","game","then","res","json","on","msg","submitMove","move","emit","id","sockets","filter","k","map","l","i","turn","creatures"],"sources":["/Users/anna/Documents/blob-fight/client/src/App.js"],"sourcesContent":["import Creature from './Creature';\nimport EnemyCreature from './EnemyCreature';\nimport './App.css';\nimport React, { useState } from 'react';\nimport game_data from \"./game_data.json\";\nimport { socket } from './socket';\n\nfunction App(props) {\n\n\n  const [game_data, setGameData] = useState(null);\n  \n  React.useEffect(() => {\n    console.log('sending');\n    fetch(`/game?id=${props.game}`)\n      .then((res) => res.json())\n      .then((game_data) => setGameData(game_data));\n  }, []);\n\n  socket.on(\"gameUpdate\", (msg) => {\n    console.log(\"update to game...\");\n    setGameData(msg);\n  });\n\n  const submitMove = (move) => {\n    console.log(\"make move\", move)\n    socket.emit(\"makeMove\", props.game, move, props.socket.id);\n  };\n\n\n  console.log(props.socket.id);\n  if(game_data) {\n    console.log(game_data.log);\n    console.log(game_data.sockets);\n    console.log(game_data.sockets.filter((k) => k != props.socket.id)[0]);\n  }\n  return (\n    <>\n    <h1> blob fight</h1>\n    {game_data ? <>\n      {game_data.log.map((l,i) => (\n        <p key = {i}>{l}</p>\n      ))}\n    <p> Turn : {game_data.turn}</p>\n    <div className=\"App\">\n      <EnemyCreature game_data = {game_data} data = {game_data.creatures[game_data.sockets.filter((k) => k != props.socket.id)[0]]}/>\n      <Creature game_data = {game_data} data = {game_data.creatures[props.socket.id]} makeMove = {submitMove}/>\n    </div>\n    </>: \"Loading...\"}\n   \n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"6HAAA,MAAOA,SAAQ,KAAM,YAAY,CACjC,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAO,WAAW,CAClB,MAAOC,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,UAAS,KAAM,kBAAkB,CACxC,OAASC,MAAM,KAAQ,UAAU,CAAC,6IAElC,QAASC,IAAG,CAACC,KAAK,CAAE,CAGlB,cAAiCJ,QAAQ,CAAC,IAAI,CAAC,wCAAxCC,SAAS,eAAEI,WAAW,eAE7BN,KAAK,CAACO,SAAS,CAAC,UAAM,CACpBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtBC,KAAK,oBAAaL,KAAK,CAACM,IAAI,EAAG,CAC5BC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACV,SAAS,QAAKI,YAAW,CAACJ,SAAS,CAAC,GAAC,CAChD,CAAC,CAAE,EAAE,CAAC,CAENC,MAAM,CAACY,EAAE,CAAC,YAAY,CAAE,SAACC,GAAG,CAAK,CAC/BR,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCH,WAAW,CAACU,GAAG,CAAC,CAClB,CAAC,CAAC,CAEF,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,IAAI,CAAK,CAC3BV,OAAO,CAACC,GAAG,CAAC,WAAW,CAAES,IAAI,CAAC,CAC9Bf,MAAM,CAACgB,IAAI,CAAC,UAAU,CAAEd,KAAK,CAACM,IAAI,CAAEO,IAAI,CAAEb,KAAK,CAACF,MAAM,CAACiB,EAAE,CAAC,CAC5D,CAAC,CAGDZ,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACF,MAAM,CAACiB,EAAE,CAAC,CAC5B,GAAGlB,SAAS,CAAE,CACZM,OAAO,CAACC,GAAG,CAACP,SAAS,CAACO,GAAG,CAAC,CAC1BD,OAAO,CAACC,GAAG,CAACP,SAAS,CAACmB,OAAO,CAAC,CAC9Bb,OAAO,CAACC,GAAG,CAACP,SAAS,CAACmB,OAAO,CAACC,MAAM,CAAC,SAACC,CAAC,QAAKA,EAAC,EAAIlB,KAAK,CAACF,MAAM,CAACiB,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,CACvE,CACA,mBACE,wCACA,mCAAoB,CACnBlB,SAAS,cAAG,2BACVA,SAAS,CAACO,GAAG,CAACe,GAAG,CAAC,SAACC,CAAC,CAACC,CAAC,qBACrB,mBAAcD,CAAC,EAALC,CAAC,CAAS,EACrB,CAAC,cACJ,gCAAYxB,SAAS,CAACyB,IAAI,GAAK,cAC/B,aAAK,SAAS,CAAC,KAAK,wBAClB,KAAC,aAAa,EAAC,SAAS,CAAIzB,SAAU,CAAC,IAAI,CAAIA,SAAS,CAAC0B,SAAS,CAAC1B,SAAS,CAACmB,OAAO,CAACC,MAAM,CAAC,SAACC,CAAC,QAAKA,EAAC,EAAIlB,KAAK,CAACF,MAAM,CAACiB,EAAE,GAAC,CAAC,CAAC,CAAC,CAAE,EAAE,cAC/H,KAAC,QAAQ,EAAC,SAAS,CAAIlB,SAAU,CAAC,IAAI,CAAIA,SAAS,CAAC0B,SAAS,CAACvB,KAAK,CAACF,MAAM,CAACiB,EAAE,CAAE,CAAC,QAAQ,CAAIH,UAAW,EAAE,GACrG,GACH,CAAE,YAAY,GAEd,CAEP,CAEA,cAAeb,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}